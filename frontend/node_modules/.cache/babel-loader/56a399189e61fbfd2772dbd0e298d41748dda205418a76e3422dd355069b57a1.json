{"ast":null,"code":"var _jsxFileName = \"/workspaces/FloatChat-AI/frontend/src/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = \"/api/chat\";\nconst LS_KEY = \"chatgpt_like_chats_v1\";\nfunction nowTs() {\n  return Date.now();\n}\nfunction makeEmptyChat() {\n  return {\n    id: `chat_${nowTs()}`,\n    title: \"New chat\",\n    messages: [{\n      id: `b-${nowTs()}`,\n      role: \"bot\",\n      text: \"Hello â€” ask me anything.\",\n      ts: nowTs()\n    }],\n    updatedAt: nowTs()\n  };\n}\nexport default function App() {\n  _s();\n  const [chats, setChats] = useState([]);\n  const [activeId, setActiveId] = useState(null);\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const endRef = useRef(null);\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem(LS_KEY);\n      const parsed = raw ? JSON.parse(raw) : null;\n      if (parsed && Array.isArray(parsed) && parsed.length) {\n        setChats(parsed);\n        setActiveId(parsed[0].id);\n      } else {\n        const first = makeEmptyChat();\n        setChats([first]);\n        setActiveId(first.id);\n      }\n    } catch {\n      const first = makeEmptyChat();\n      setChats([first]);\n      setActiveId(first.id);\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(LS_KEY, JSON.stringify(chats));\n  }, [chats]);\n  useEffect(() => {\n    var _endRef$current;\n    (_endRef$current = endRef.current) === null || _endRef$current === void 0 ? void 0 : _endRef$current.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"end\"\n    });\n  }, [activeId, chats, loading]);\n  const activeChat = chats.find(c => c.id === activeId) || null;\n  const updateChat = (id, patchFn) => setChats(prev => prev.map(c => c.id === id ? {\n    ...c,\n    ...patchFn(c)\n  } : c));\n  const createNewChat = () => {\n    const chat = makeEmptyChat();\n    setChats(prev => [chat, ...prev]);\n    setActiveId(chat.id);\n  };\n  const deleteChat = id => {\n    setChats(prev => {\n      const next = prev.filter(c => c.id !== id);\n      if (next.length === 0) {\n        const n = makeEmptyChat();\n        setActiveId(n.id);\n        return [n];\n      }\n      if (id === activeId) setActiveId(next[0].id);\n      return next;\n    });\n  };\n  const renameChat = (id, title) => {\n    updateChat(id, () => ({\n      title,\n      updatedAt: nowTs()\n    }));\n  };\n  const sendToBackend = async userText => {\n    const res = await fetch(API_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        message: userText\n      })\n    });\n    if (!res.ok) {\n      const txt = await res.text();\n      throw new Error(txt || \"Network error\");\n    }\n    const payload = await res.json();\n    return payload && (payload.reply || payload.message || payload.text) || JSON.stringify(payload);\n  };\n  const handleSend = async () => {\n    const trimmed = input.trim();\n    if (!trimmed || loading || !activeChat) return;\n    const userMsg = {\n      id: `u-${nowTs()}`,\n      role: \"user\",\n      text: trimmed,\n      ts: nowTs()\n    };\n    const waitingId = `wait-${nowTs()}`;\n    const waitingMsg = {\n      id: waitingId,\n      role: \"bot\",\n      text: \"â€¦\",\n      ts: nowTs()\n    };\n    updateChat(activeChat.id, c => ({\n      messages: [...c.messages, userMsg, waitingMsg],\n      title: c.title === \"New chat\" ? trimmed.slice(0, 40) : c.title,\n      updatedAt: nowTs()\n    }));\n    setInput(\"\");\n    setLoading(true);\n    try {\n      const botText = await sendToBackend(trimmed);\n      updateChat(activeChat.id, c => ({\n        messages: c.messages.map(m => m.id === waitingId ? {\n          ...m,\n          text: botText,\n          ts: nowTs()\n        } : m),\n        updatedAt: nowTs()\n      }));\n    } catch (err) {\n      updateChat(activeChat.id, c => ({\n        messages: c.messages.map(m => m.id === waitingId ? {\n          ...m,\n          text: \"Error: failed to get response from server.\"\n        } : m),\n        updatedAt: nowTs()\n      }));\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const onKeyDown = e => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n  const formattedTime = ts => new Date(ts).toLocaleTimeString();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"global-header\",\n      children: \"FloatChat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-shell\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-header\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"new-chat-btn\",\n            onClick: createNewChat,\n            children: \"+ New chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-list\",\n          children: chats.map(c => {\n            const last = c.messages[c.messages.length - 1];\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `chat-item ${c.id === activeId ? \"active\" : \"\"}`,\n              onClick: () => setActiveId(c.id),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chat-item-main\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chat-title\",\n                  children: c.title || \"Untitled\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chat-snippet\",\n                  children: last ? (last.role === \"user\" ? \"You: \" : \"\") + last.text.slice(0, 60) : \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chat-meta\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chat-time\",\n                  children: formattedTime(c.updatedAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"del-btn\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    deleteChat(c.id);\n                  },\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this)]\n            }, c.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Local chats \\u2014 stored in browser\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"main-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"main-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"title-input\",\n            value: activeChat && activeChat.title || \"\",\n            onChange: e => activeChat && renameChat(activeChat.id, e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-right\",\n            children: activeChat ? formattedTime(activeChat.updatedAt) : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"chat-window\",\n          children: [activeChat && activeChat.messages.length === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"intro-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Welcome to FloatChat \\uD83C\\uDF0A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"An AI-powered conversational interface for exploring ARGO Ocean Data.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"hint\",\n              children: \"Type your query below to begin.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), activeChat && activeChat.messages.map(m => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message-row ${m.role === \"user\" ? \"user\" : \"bot\"}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bubble\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text\",\n                children: m.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"meta\",\n                children: new Date(m.ts).toLocaleTimeString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 19\n            }, this)\n          }, m.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: endRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n          className: \"composer\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"input\",\n            placeholder: \"Type a message. Enter to send, Shift+Enter for newline\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyDown: onKeyDown,\n            rows: 1,\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"send-btn\",\n            onClick: handleSend,\n            disabled: loading || !input.trim(),\n            children: loading ? \"Sending...\" : \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"1WSNnPngxJteV6PfnO7SmqheUCE=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","LS_KEY","nowTs","Date","now","makeEmptyChat","id","title","messages","role","text","ts","updatedAt","App","_s","chats","setChats","activeId","setActiveId","input","setInput","loading","setLoading","endRef","raw","localStorage","getItem","parsed","JSON","parse","Array","isArray","length","first","setItem","stringify","_endRef$current","current","scrollIntoView","behavior","block","activeChat","find","c","updateChat","patchFn","prev","map","createNewChat","chat","deleteChat","next","filter","n","renameChat","sendToBackend","userText","res","fetch","method","headers","body","message","ok","txt","Error","payload","json","reply","handleSend","trimmed","trim","userMsg","waitingId","waitingMsg","slice","botText","m","err","console","error","onKeyDown","e","key","shiftKey","preventDefault","formattedTime","toLocaleTimeString","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","last","stopPropagation","value","onChange","target","ref","placeholder","rows","disabled","_c","$RefreshReg$"],"sources":["/workspaces/FloatChat-AI/frontend/src/App.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\n\nconst API_URL = \"/api/chat\";\nconst LS_KEY = \"chatgpt_like_chats_v1\";\n\nfunction nowTs() {\n  return Date.now();\n}\n\nfunction makeEmptyChat() {\n  return {\n    id: `chat_${nowTs()}`,\n    title: \"New chat\",\n    messages: [{ id: `b-${nowTs()}`, role: \"bot\", text: \"Hello â€” ask me anything.\", ts: nowTs() }],\n    updatedAt: nowTs(),\n  };\n}\n\nexport default function App() {\n  const [chats, setChats] = useState([]);\n  const [activeId, setActiveId] = useState(null);\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const endRef = useRef(null);\n\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem(LS_KEY);\n      const parsed = raw ? JSON.parse(raw) : null;\n      if (parsed && Array.isArray(parsed) && parsed.length) {\n        setChats(parsed);\n        setActiveId(parsed[0].id);\n      } else {\n        const first = makeEmptyChat();\n        setChats([first]);\n        setActiveId(first.id);\n      }\n    } catch {\n      const first = makeEmptyChat();\n      setChats([first]);\n      setActiveId(first.id);\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(LS_KEY, JSON.stringify(chats));\n  }, [chats]);\n\n  useEffect(() => {\n    endRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"end\" });\n  }, [activeId, chats, loading]);\n\n  const activeChat = chats.find((c) => c.id === activeId) || null;\n\n  const updateChat = (id, patchFn) =>\n    setChats((prev) => prev.map((c) => (c.id === id ? { ...c, ...patchFn(c) } : c)));\n\n  const createNewChat = () => {\n    const chat = makeEmptyChat();\n    setChats((prev) => [chat, ...prev]);\n    setActiveId(chat.id);\n  };\n\n  const deleteChat = (id) => {\n    setChats((prev) => {\n      const next = prev.filter((c) => c.id !== id);\n      if (next.length === 0) {\n        const n = makeEmptyChat();\n        setActiveId(n.id);\n        return [n];\n      }\n      if (id === activeId) setActiveId(next[0].id);\n      return next;\n    });\n  };\n\n  const renameChat = (id, title) => {\n    updateChat(id, () => ({ title, updatedAt: nowTs() }));\n  };\n\n  const sendToBackend = async (userText) => {\n    const res = await fetch(API_URL, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ message: userText }),\n    });\n    if (!res.ok) {\n      const txt = await res.text();\n      throw new Error(txt || \"Network error\");\n    }\n    const payload = await res.json();\n    return (payload && (payload.reply || payload.message || payload.text)) || JSON.stringify(payload);\n  };\n\n  const handleSend = async () => {\n    const trimmed = input.trim();\n    if (!trimmed || loading || !activeChat) return;\n\n    const userMsg = { id: `u-${nowTs()}`, role: \"user\", text: trimmed, ts: nowTs() };\n    const waitingId = `wait-${nowTs()}`;\n    const waitingMsg = { id: waitingId, role: \"bot\", text: \"â€¦\", ts: nowTs() };\n\n    updateChat(activeChat.id, (c) => ({\n      messages: [...c.messages, userMsg, waitingMsg],\n      title: c.title === \"New chat\" ? trimmed.slice(0, 40) : c.title,\n      updatedAt: nowTs(),\n    }));\n    setInput(\"\");\n    setLoading(true);\n\n    try {\n      const botText = await sendToBackend(trimmed);\n      updateChat(activeChat.id, (c) => ({\n        messages: c.messages.map((m) => (m.id === waitingId ? { ...m, text: botText, ts: nowTs() } : m)),\n        updatedAt: nowTs(),\n      }));\n    } catch (err) {\n      updateChat(activeChat.id, (c) => ({\n        messages: c.messages.map((m) =>\n          m.id === waitingId ? { ...m, text: \"Error: failed to get response from server.\" } : m\n        ),\n        updatedAt: nowTs(),\n      }));\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const onKeyDown = (e) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  const formattedTime = (ts) => new Date(ts).toLocaleTimeString();\n\n  return (\n    <>\n      {/* ðŸŒŠ Top Global Header */}\n      <div className=\"global-header\">FloatChat</div>\n\n      <div className=\"app-shell\">\n        <aside className=\"sidebar\">\n          <div className=\"sidebar-header\">\n            <button className=\"new-chat-btn\" onClick={createNewChat}>\n              + New chat\n            </button>\n          </div>\n\n          <div className=\"chat-list\">\n            {chats.map((c) => {\n              const last = c.messages[c.messages.length - 1];\n              return (\n                <div\n                  key={c.id}\n                  className={`chat-item ${c.id === activeId ? \"active\" : \"\"}`}\n                  onClick={() => setActiveId(c.id)}\n                >\n                  <div className=\"chat-item-main\">\n                    <div className=\"chat-title\">{c.title || \"Untitled\"}</div>\n                    <div className=\"chat-snippet\">\n                      {last ? (last.role === \"user\" ? \"You: \" : \"\") + last.text.slice(0, 60) : \"\"}\n                    </div>\n                  </div>\n                  <div className=\"chat-meta\">\n                    <div className=\"chat-time\">{formattedTime(c.updatedAt)}</div>\n                    <button\n                      className=\"del-btn\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        deleteChat(c.id);\n                      }}\n                    >\n                      âœ•\n                    </button>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          <div className=\"sidebar-footer\">\n            <small>Local chats â€” stored in browser</small>\n          </div>\n        </aside>\n\n        <main className=\"main-area\">\n          <header className=\"main-header\">\n            <input\n              className=\"title-input\"\n              value={(activeChat && activeChat.title) || \"\"}\n              onChange={(e) => activeChat && renameChat(activeChat.id, e.target.value)}\n            />\n            <div className=\"header-right\">{activeChat ? formattedTime(activeChat.updatedAt) : \"\"}</div>\n          </header>\n\n          <section className=\"chat-window\">\n            {/* âœ¨ Intro Text Before First Message */}\n            {activeChat && activeChat.messages.length === 1 && (\n              <div className=\"intro-text\">\n                <h2>Welcome to FloatChat ðŸŒŠ</h2>\n                <p>An AI-powered conversational interface for exploring ARGO Ocean Data.</p>\n                <p className=\"hint\">Type your query below to begin.</p>\n              </div>\n            )}\n\n            {activeChat &&\n              activeChat.messages.map((m) => (\n                <div key={m.id} className={`message-row ${m.role === \"user\" ? \"user\" : \"bot\"}`}>\n                  <div className=\"bubble\">\n                    <div className=\"text\">{m.text}</div>\n                    <div className=\"meta\">{new Date(m.ts).toLocaleTimeString()}</div>\n                  </div>\n                </div>\n              ))}\n            <div ref={endRef} />\n          </section>\n\n          <footer className=\"composer\">\n            <textarea\n              className=\"input\"\n              placeholder=\"Type a message. Enter to send, Shift+Enter for newline\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              onKeyDown={onKeyDown}\n              rows={1}\n              disabled={loading}\n            />\n            <button className=\"send-btn\" onClick={handleSend} disabled={loading || !input.trim()}>\n              {loading ? \"Sending...\" : \"Send\"}\n            </button>\n          </footer>\n        </main>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}